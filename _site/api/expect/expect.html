<!doctype html>
<html lang=" en-US ">

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="chrome=1"> <!-- Begin Jekyll SEO tag v2.3.0 -->
<title>Method | Welcome the Expected.Request’s documentation!</title>
<meta property="og:title" content="Method" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Expected.Request, a simple API testing framework." />
<meta property="og:description" content="Expected.Request, a simple API testing framework." />
<link rel="canonical" href="http://localhost:4000/api/expect/expect.html" />
<meta property="og:url" content="http://localhost:4000/api/expect/expect.html" />
<meta property="og:site_name" content="Welcome the Expected.Request’s documentation!" />
<script type="application/ld+json">
{"name":null,"description":"Expected.Request, a simple API testing framework.","author":null,"@type":"WebPage","url":"http://localhost:4000/api/expect/expect.html","publisher":null,"image":null,"headline":"Method","dateModified":null,"datePublished":null,"sameAs":null,"mainEntityOfPage":null,"@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->


  <link rel="stylesheet" href="/assets/css/style.css?v=8f5fc4ef04f1d94c7fad5afbcc21c2c3fe96cc79">
  <meta name="viewport" content="width=device-width">
  <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
</head>

<body>
  <div class="wrapper">
    <header>
      <h1>Welcome the Expected.Request's documentation!</h1>
      <p>Expected.Request, a simple API testing framework.</p>

      
      <p class="view"><a href="http://github.com/wright-development/Expected.Request">View the Project on GitHub <small></small></a></p>
        
      
      
<div class="menu">

  <li class="menu-item-">
    <a href="/" title="Go to Home">Home</a>
    
  </li>

  <li class="menu-item-">
    <a href="/api/request/request.html" title="Go to Request">Request</a>
    
  </li>

  <li class="menu-item-">
    <a href="/api/expect/expect-request.html" title="Go to ExpectRequest">ExpectRequest</a>
    
  </li>

  <li class="menu-item-">
    <a href="/api/done/done-request.html" title="Go to DoneRequest">DoneRequest</a>
    
  </li>

</div>

    </header>

    <section>

      <h1 id="method">Method</h1>

<div class="language-csharp highlighter-rouge"><pre class="highlight"><code><span class="n">Task</span><span class="p">&lt;</span><span class="n">IExpectRequest</span><span class="p">&gt;</span> <span class="nf">Expect</span><span class="p">(</span><span class="n">Action</span><span class="p">&lt;</span><span class="n">HttpResponseMessage</span><span class="p">&gt;</span> <span class="n">expectedAction</span><span class="p">,</span> <span class="kt">string</span> <span class="n">assertionMessage</span> <span class="p">=</span> <span class="k">null</span><span class="p">);</span>    
<span class="n">Task</span><span class="p">&lt;</span><span class="n">IExpectRequest</span><span class="p">&gt;</span> <span class="nf">Expect</span><span class="p">(</span><span class="n">Func</span><span class="p">&lt;</span><span class="n">HttpResponseMessage</span><span class="p">,</span> <span class="n">Task</span><span class="p">&gt;</span> <span class="n">expectedAction</span><span class="p">,</span> <span class="kt">string</span> <span class="n">assertionMessage</span> <span class="p">=</span> <span class="k">null</span><span class="p">);</span>
</code></pre>
</div>

<p>These are the building blocks for all expectations throughout the framework. The first extension method is for non-async action expectations, and the second is for async expectations. There needs to be a specific function for async expectations which ensures that if an expectation is not met an exception will be properly thrown.</p>

<p>Rely on the extension methods provided, rather than these lower level implementations. The reason is that they provide much higher level support for things like automatic content to object conversion, ability to check status code in a single line, and much more. View the extension methods <strong><a href="/api/expect/extension.html">here</a></strong></p>

<p><strong>Example usage</strong></p>

<div class="language-csharp highlighter-rouge"><pre class="highlight"><code><span class="k">await</span> <span class="k">new</span> <span class="nf">Request</span><span class="p">()</span>
    <span class="p">.</span><span class="nf">Get</span><span class="p">(</span><span class="s">"http://localhost:8080/api/todo"</span><span class="p">)</span>
    <span class="p">.</span><span class="nf">Next</span><span class="p">(</span> <span class="n">x</span> <span class="p">=&gt;</span> <span class="n">x</span><span class="p">.</span><span class="nf">Expect</span><span class="p">(</span><span class="n">response</span> <span class="p">=&gt;</span> <span class="p">{</span>
            <span class="n">Assert</span><span class="p">.</span><span class="nf">True</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">StatusCode</span><span class="p">,</span> <span class="n">HttpStatusCode</span><span class="p">.</span><span class="n">OK</span><span class="p">);</span>
        <span class="p">})</span>
    <span class="p">)</span>
    <span class="p">.</span><span class="nf">Done</span><span class="p">();</span>

</code></pre>
</div>

<p><strong><a href="/api/expect/expect-request.html">Back to ExpectRequest</a></strong></p>


    </section>
    <footer>
      
      <p>This project is maintained by <a href="http://github.com/wright-development">wright-development</a></p>
      
      <p><small>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist">orderedlist</a></small></p>
    </footer>
  </div>
  <script src="/assets/js/scale.fix.js"></script>


  
  <script>
    (function (i, s, o, g, r, a, m) {
    i['GoogleAnalyticsObject'] = r; i[r] = i[r] || function () {
      (i[r].q = i[r].q || []).push(arguments)
    }, i[r].l = 1 * new Date(); a = s.createElement(o),
      m = s.getElementsByTagName(o)[0]; a.async = 1; a.src = g; m.parentNode.insertBefore(a, m)
    })(window, document, 'script', 'https://www.google-analytics.com/analytics.js', 'ga');

    ga('create', 'UA-61721549-2', 'auto');
    ga('send', 'pageview');
  </script>
  
</body>

</html>